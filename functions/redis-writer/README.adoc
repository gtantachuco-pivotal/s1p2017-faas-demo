= redis-writer

[horizontal]
*Language*:: Java
*Function*:: https://github.com/markfisher/s1p2017-faas-demo/blob/master/functions/redis-writer/src/main/java/functions/RedisWriter.java[RedisWriter.java]
*Protocol*:: HTTP
*Input*:: function-replicas

=== Build the Docker container for the function code

ensure riff is running and the `riff` script from `project/riff` is on your `PATH`

from within the `functions/redis-writer` directory execute:

```
./mvnw clean package
eval $(minikube docker-env)
riff build -v 1.0.0
riff apply
```

to run a function that subscribes to the `votes` topic and produces aggregates
for every 2 second interval, change to the `vote-interval-counter` sibling
directory and execute:

```
./mvnw clean package
riff build -v 1.0.0
riff apply
```
